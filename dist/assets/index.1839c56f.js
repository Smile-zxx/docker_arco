var mt=Object.defineProperty,pt=Object.defineProperties;var ft=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var xe=(t,o,n)=>o in t?mt(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,E=(t,o)=>{for(var n in o||(o={}))we.call(o,n)&&xe(t,n,o[n]);if(q)for(var n of q(o))De.call(o,n)&&xe(t,n,o[n]);return t},A=(t,o)=>pt(t,ft(o));var te=(t,o)=>{var n={};for(var s in t)we.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&q)for(var s of q(t))o.indexOf(s)<0&&De.call(t,s)&&(n[s]=t[s]);return n};import{r as l,j as e,L as ne,R as ht,a as c,B as R,A as oe,S as Ae,T as U,b as bt,c as Se,d as yt,g as _t,I as Et,e as vt,f as Ft,h as Ct,i as se,k as Be,l as K,m as re,u as T,n as ae,o as wt,p as Dt,D as ke,q as Ne,s as xt,t as At,F as H,v as St,w as J,x as Bt,y as kt,z as Nt,M as ue,C as S,E as Ie,G as Re,H as It,J as Pe,K as Rt,N as ie,O as Pt,P as jt,Q as Lt,U as Mt,V as Tt,W as zt,X as Ot,Y as P,Z as je,_ as $t,$ as Wt,a0 as Vt,a1 as qt,a2 as Le,a3 as Me,a4 as z,a5 as Ut,a6 as Te,a7 as le,a8 as Kt,a9 as Ht,aa as Jt,ab as Gt,ac as I,ad as Xt,ae as Zt,af as Yt,ag as Qt,ah as en,ai as ze,aj as tn}from"./vendor.fe3c3388.js";const nn=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerpolicy&&(a.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?a.credentials="include":u.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(u){if(u.ep)return;u.ep=!0;const a=n(u);fetch(u.href,a)}};nn();const on=!1,sn=!0,rn=!0,an=!0,un="#165DFF",ln=220;var cn={colorWeek:on,navbar:sn,menu:rn,footer:an,themeColor:un,menuWidth:ln};const Oe={settings:cn,userInfo:{permissions:{}}};function dn(t=Oe,o){switch(o.type){case"update-settings":{const{settings:n}=o.payload;return A(E({},t),{settings:n})}case"update-userInfo":{const{userInfo:n=Oe.userInfo,userLoading:s}=o.payload;return A(E({},t),{userLoading:s,userInfo:n})}default:return t}}const gn="modulepreload",$e={},mn="/",C=function(o,n){return!n||n.length===0?o():Promise.all(n.map(s=>{if(s=`${mn}${s}`,s in $e)return;$e[s]=!0;const u=s.endsWith(".css"),a=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const r=document.createElement("link");if(r.rel=u?"stylesheet":gn,u||(r.as="script",r.crossOrigin=""),r.href=s,document.head.appendChild(r),u)return new Promise((i,d)=>{r.addEventListener("load",i),r.addEventListener("error",d)})})).then(()=>o())},ce=l.exports.createContext({}),We={"en-US":{"menu.dashboard":"Dashboard","menu.dashboard.workplace":"Workplace","menu.user.info":"User Info","menu.user.setting":"User Setting","menu.user.switchRoles":"Switch Roles","menu.user.role.admin":"Admin","menu.user.role.user":"General User","navbar.logout":"Logout","settings.title":"Settings","settings.themeColor":"Theme Color","settings.content":"Content Setting","settings.navbar":"Navbar","settings.menuWidth":"Menu Width (px)","settings.navbar.theme.toLight":"Click to use light mode","settings.navbar.theme.toDark":"Click to use dark mode","settings.menu":"Menu","settings.footer":"Footer","settings.otherSettings":"Other Settings","settings.colorWeek":"Color Week","settings.alertContent":'After the configuration is only temporarily effective, if you want to really affect the project, click the "Copy Settings" button below and replace the configuration in settings.json.',"settings.copySettings":"Copy Settings","settings.copySettings.message":"Copy succeeded, please paste to file src/settings.json.","settings.close":"Close","settings.color.tooltip":"10 gradient colors generated according to the theme color","message.tab.title.message":"Message","message.tab.title.notice":"Notice","message.tab.title.todo":"ToDo","message.allRead":"All Read","message.seeMore":"SeeMore","message.empty":"Empty","message.empty.tips":"No Content","message.lang.tips":"Language switch to ","navbar.search.placeholder":"Please search"},"zh-CN":{"menu.dashboard":"\u4EEA\u8868\u76D8","menu.dashboard.workplace":"\u5DE5\u4F5C\u53F0","menu.user.info":"\u7528\u6237\u4FE1\u606F","menu.user.setting":"\u7528\u6237\u8BBE\u7F6E","menu.user.switchRoles":"\u5207\u6362\u89D2\u8272","menu.user.role.admin":"\u7BA1\u7406\u5458","menu.user.role.user":"\u666E\u901A\u7528\u6237","navbar.logout":"\u9000\u51FA\u767B\u5F55","settings.title":"\u9875\u9762\u914D\u7F6E","settings.themeColor":"\u4E3B\u9898\u8272","settings.content":"\u5185\u5BB9\u533A\u57DF","settings.navbar":"\u5BFC\u822A\u680F","settings.menuWidth":"\u83DC\u5355\u5BBD\u5EA6 (px)","settings.navbar.theme.toLight":"\u70B9\u51FB\u5207\u6362\u4E3A\u4EAE\u8272\u6A21\u5F0F","settings.navbar.theme.toDark":"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F","settings.menu":"\u83DC\u5355\u680F","settings.footer":"\u5E95\u90E8","settings.otherSettings":"\u5176\u4ED6\u8BBE\u7F6E","settings.colorWeek":"\u8272\u5F31\u6A21\u5F0F","settings.alertContent":'\u914D\u7F6E\u4E4B\u540E\u4EC5\u662F\u4E34\u65F6\u751F\u6548\uFF0C\u8981\u60F3\u771F\u6B63\u4F5C\u7528\u4E8E\u9879\u76EE\uFF0C\u70B9\u51FB\u4E0B\u65B9\u7684 "\u590D\u5236\u914D\u7F6E" \u6309\u94AE\uFF0C\u5C06\u914D\u7F6E\u66FF\u6362\u5230 settings.json \u4E2D\u5373\u53EF\u3002',"settings.copySettings":"\u590D\u5236\u914D\u7F6E","settings.copySettings.message":"\u590D\u5236\u6210\u529F\uFF0C\u8BF7\u7C98\u8D34\u5230 src/settings.json \u6587\u4EF6\u4E2D","settings.close":"\u5173\u95ED","settings.color.tooltip":"\u6839\u636E\u4E3B\u9898\u989C\u8272\u751F\u6210\u7684 10 \u4E2A\u68AF\u5EA6\u8272\uFF08\u5C06\u914D\u7F6E\u590D\u5236\u5230\u9879\u76EE\u4E2D\uFF0C\u4E3B\u9898\u8272\u624D\u80FD\u5BF9\u4EAE\u8272 / \u6697\u9ED1\u6A21\u5F0F\u540C\u65F6\u751F\u6548\uFF09","message.tab.title.message":"\u6D88\u606F","message.tab.title.notice":"\u901A\u77E5","message.tab.title.todo":"\u5F85\u529E","message.allRead":"\u5168\u90E8\u5DF2\u8BFB","message.seeMore":"\u67E5\u770B\u66F4\u591A","message.empty":"\u6E05\u7A7A","message.empty.tips":"\u6682\u65E0\u5185\u5BB9","message.lang.tips":"\u8BED\u8A00\u5207\u6362\u81F3 ","navbar.search.placeholder":"\u8F93\u5165\u5185\u5BB9\u67E5\u8BE2"}};function N(t=null){const{lang:o}=l.exports.useContext(ce);return(t||We)[o]||{}}const Ve=t=>l.exports.createElement("svg",E({width:33,height:33,viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),l.exports.createElement("g",{clipPath:"url(#clip0)"},l.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.37754 16.9795L12.7498 9.43027C14.7163 7.41663 17.9428 7.37837 19.9564 9.34482C19.9852 9.37297 20.0137 9.40145 20.0418 9.43027L20.1221 9.51243C22.1049 11.5429 22.1049 14.7847 20.1221 16.8152L12.7498 24.3644C10.7834 26.378 7.55686 26.4163 5.54322 24.4498C5.5144 24.4217 5.48592 24.3932 5.45777 24.3644L5.37754 24.2822C3.39468 22.2518 3.39468 19.0099 5.37754 16.9795Z",fill:"#12D2AC"}),l.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0479 9.43034L27.3399 16.8974C29.3674 18.9735 29.3674 22.2883 27.3399 24.3644C25.3735 26.3781 22.147 26.4163 20.1333 24.4499C20.1045 24.4217 20.076 24.3933 20.0479 24.3644L12.7558 16.8974C10.7284 14.8213 10.7284 11.5065 12.7558 9.43034C14.7223 7.4167 17.9488 7.37844 19.9624 9.34489C19.9912 9.37304 20.0197 9.40152 20.0479 9.43034Z",fill:"#307AF2"}),l.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.1321 9.52163L23.6851 13.1599L16.3931 20.627L9.10103 13.1599L12.6541 9.52163C14.6707 7.45664 17.9794 7.4174 20.0444 9.434C20.074 9.46286 20.1032 9.49207 20.1321 9.52163Z",fill:"#0057FE"})),l.exports.createElement("defs",null,l.exports.createElement("clipPath",{id:"clip0"},l.exports.createElement("rect",{width:26,height:19,fill:"white",transform:"translate(3.5 7)"})))),pn="_footer_8a7h1_26";var O={"message-box":"_message-box_8a7h1_1","message-title":"_message-title_8a7h1_22",footer:pn,"footer-item":"_footer-item_8a7h1_29"};function fn(t){const o=N(),{data:n,unReadData:s}=t;function u(r,i){r.status||t.onItemClick&&t.onItemClick(r,i)}function a(){t.onAllBtnClick&&t.onAllBtnClick(s,n)}return e(ne,{noDataElement:e(ht,{status:"404",subTitle:o["message.empty.tips"]}),footer:c("div",{className:O.footer,children:[e("div",{className:O["footer-item"],children:e(R,{type:"text",size:"small",onClick:a,children:o["message.allRead"]})}),e("div",{className:O["footer-item"],children:e(R,{type:"text",size:"small",children:o["message.seeMore"]})})]}),children:n.map((r,i)=>e(ne.Item,{actionLayout:"vertical",style:{opacity:r.status?.5:1},children:e("div",{style:{cursor:"pointer"},onClick:()=>{u(r,i)},children:e(ne.Item.Meta,{avatar:r.avatar&&e(oe,{shape:"circle",size:36,children:e("img",{src:r.avatar})}),title:c("div",{className:O["message-title"],children:[c(Ae,{size:4,children:[e("span",{children:r.title}),e(U.Text,{type:"secondary",children:r.subTitle})]}),r.tag&&r.tag.text?e(bt,{color:r.tag.color,children:r.tag.text}):null]}),description:c("div",{children:[e(U.Paragraph,{style:{marginBottom:0},ellipsis:!0,children:r.content}),e(U.Text,{type:"secondary",style:{fontSize:12},children:r.time})]})})})},r.id))})}function hn(){const t=N(),[o,n]=l.exports.useState(!1),[s,u]=l.exports.useState({}),[a,r]=l.exports.useState([]);function i(g=!0){g&&n(!0),K.get("/api/message/list").then(b=>{r(b.data)}).finally(()=>{g&&n(!1)})}function d(g){const b=g.map(B=>B.id);K.post("/api/message/read",{ids:b}).then(()=>{i()})}l.exports.useEffect(()=>{i()},[]),l.exports.useEffect(()=>{const g=_t(a,"type");u(g)},[a]);const p=[{key:"message",title:t["message.tab.title.message"],titleIcon:e(Et,{})},{key:"notice",title:t["message.tab.title.notice"],titleIcon:e(vt,{})},{key:"todo",title:t["message.tab.title.todo"],titleIcon:e(Ft,{}),avatar:e(oe,{style:{backgroundColor:"#0FC6C2"},children:e(Ct,{})})}];return e("div",{className:O["message-box"],children:e(se,{loading:o,style:{display:"block"},children:e(Be,{overflow:"dropdown",type:"rounded",defaultActiveTab:"message",destroyOnHide:!0,extra:e(R,{type:"text",onClick:()=>r([]),children:t["message.empty"]}),children:p.map(g=>{const{key:b,title:B,avatar:k}=g,_=s[b]||[],v=_.filter(f=>!f.status);return e(Be.TabPane,{title:c("span",{children:[B,v.length?`(${v.length})`:""]}),children:e(fn,{data:_,unReadData:v,onItemClick:f=>{d([f])},onAllBtnClick:f=>{d(f)}})},b)})})})})}function bn({children:t}){return e(Se,{trigger:"hover",popup:()=>e(hn,{}),position:"br",unmountOnExit:!1,popupAlign:{bottom:4},children:e(yt,{count:9,dot:!0,children:t})})}var yn={"icon-button":"_icon-button_12azl_1"};function _n(t,o){const a=t,{icon:n,className:s}=a,u=te(a,["icon","className"]);return e(R,E({ref:o,icon:n,shape:"circle",type:"secondary",className:re(yn["icon-button"],s)},u))}var G=l.exports.forwardRef(_n);const En="_block_byc7u_1",vn="_title_byc7u_4";var de={block:En,title:vn,"switch-wrapper":"_switch-wrapper_byc7u_9"};function ge(t){const{title:o,options:n,children:s}=t,u=N(),a=T(i=>i.settings),r=ae();return c("div",{className:de.block,children:[e("h5",{className:de.title,children:o}),n&&n.map(i=>{const d=i.type||"switch";return c("div",{className:de["switch-wrapper"],children:[e("span",{children:u[i.name]}),d==="switch"&&e(wt,{size:"small",checked:!!a[i.value],onChange:p=>{const g=A(E({},a),{[i.value]:p});r({type:"update-settings",payload:{settings:g}}),p&&i.value==="colorWeek"&&(document.body.style.filter="invert(80%)"),!p&&i.value==="colorWeek"&&(document.body.style.filter="none")}}),d==="number"&&e(Dt,{style:{width:80},size:"small",value:a.menuWidth,onChange:p=>{const g=A(E({},a),{[i.value]:p});r({type:"update-settings",payload:{settings:g}})}})]},i.value)}),s,e(ke,{})]})}const Fn="_input_77wyg_1",Cn="_color_77wyg_9",wn="_ul_77wyg_14",Dn="_li_77wyg_19";var X={input:Fn,color:Cn,ul:wn,li:Dn};function xn(){const t=document.querySelector("body").getAttribute("arco-theme")||"light",o=T(r=>r.settings),n=N(),s=o.themeColor,u=Ne(s,{list:!0}),a=ae();return c("div",{children:[e(Se,{trigger:"hover",position:"bl",popup:()=>e(xt,{color:s,onChangeComplete:r=>{const i=r.hex;a({type:"update-settings",payload:{settings:A(E({},o),{themeColor:i})}}),Ne(i,{list:!0,dark:t==="dark"}).forEach((p,g)=>{const b=At(p);document.body.style.setProperty(`--arcoblue-${g+1}`,b)})}}),children:c("div",{className:X.input,children:[e("div",{className:X.color,style:{backgroundColor:s}}),e("span",{children:s})]})}),e("ul",{className:X.ul,children:u.map((r,i)=>e("li",{className:X.li,style:{backgroundColor:r}},i))}),e(U.Paragraph,{style:{fontSize:12},children:n["settings.color.tooltip"]})]})}function qe(t){const{trigger:o}=t,[n,s]=l.exports.useState(!1),u=N(),a=T(i=>i.settings);function r(){Nt(JSON.stringify(a,null,2)),ue.success(u["settings.copySettings.message"])}return c(H,{children:[o?St.cloneElement(o,{onClick:()=>s(!0)}):e(G,{icon:e(J,{}),onClick:()=>s(!0)}),c(Bt,{width:300,title:c(H,{children:[e(J,{}),u["settings.title"]]}),visible:n,okText:u["settings.copySettings"],cancelText:u["settings.close"],onOk:r,onCancel:()=>s(!1),children:[e(ge,{title:u["settings.themeColor"],children:e(xn,{})}),e(ge,{title:u["settings.content"],options:[{name:"settings.navbar",value:"navbar"},{name:"settings.menu",value:"menu"},{name:"settings.footer",value:"footer"},{name:"settings.menuWidth",value:"menuWidth",type:"number"}]}),e(ge,{title:u["settings.otherSettings"],options:[{name:"settings.colorWeek",value:"colorWeek"}]}),e(kt,{content:u["settings.alertContent"]})]})]})}const An="_navbar_1jiqj_1",Sn="_left_1jiqj_9",Bn="_logo_1jiqj_13",kn="_right_1jiqj_27",Nn="_username_1jiqj_41",In="_round_1jiqj_44";var w={navbar:An,left:Sn,logo:Bn,"logo-name":"_logo-name_1jiqj_20",right:kn,username:Nn,round:In,"dropdown-icon":"_dropdown-icon_1jiqj_50","fixed-settings":"_fixed-settings_1jiqj_55"};function Rn(t){return Object.prototype.toString.call(t)==="[object Array]"}const j=function(){try{return!(typeof window!="undefined"&&document!==void 0)}catch{return!0}}(),Pn=t=>{if(!j)return localStorage.getItem(t)};function $(t,o){const[n,s]=l.exports.useState(Pn(t)||o),u=r=>{j||(localStorage.setItem(t,r),r!==n&&s(r))},a=()=>{j||localStorage.removeItem(t)};return l.exports.useEffect(()=>{const r=localStorage.getItem(t);r&&s(r)},[]),[n,u,a]}const Ue=(t,o)=>!o||!o.length?!1:o.join("")==="*"?!0:t.every(n=>o.includes(n)),jn=(t,o)=>{const{resource:n,actions:s=[]}=t;if(n instanceof RegExp){const r=Object.keys(o).filter(i=>i.match(n));return r.length?r.every(i=>{const d=o[i];return Ue(s,d)}):!1}const u=o[n];return Ue(s,u)};var Ln=(t,o)=>{const{requiredPermissions:n,oneOfPerm:s}=t;if(Array.isArray(n)&&n.length){let u=0;for(const a of n)jn(a,o)&&u++;return s?u>0:u===n.length}return!0};const me=[{name:"menu.dashboard",key:"dashboard",children:[{name:"menu.dashboard.workplace",key:"dashboard/workplace"}]},{name:"Example",key:"example"}],Ke=t=>{const o=t==="admin"?["*"]:["read"],n={};return me.forEach(s=>{s.children&&s.children.forEach(u=>{n[u.name]=o})}),n},Mn=t=>{const o=(a,r=[])=>{if(!a.length)return[];for(const i of a){const{requiredPermissions:d,oneOfPerm:p}=i;let g=!0;if(d&&(g=Ln({requiredPermissions:d,oneOfPerm:p},t)),!!g)if(i.children&&i.children.length){const b=A(E({},i),{children:[]});o(i.children,b.children),b.children.length&&r.push(b)}else r.push(E({},i))}return r},[n,s]=l.exports.useState(me);l.exports.useEffect(()=>{const a=o(me);s(a)},[JSON.stringify(t)]);const u=l.exports.useMemo(()=>{var r,i;const a=n[0];return a?((i=(r=a==null?void 0:a.children)==null?void 0:r[0])==null?void 0:i.key)||a.key:""},[n]);return[n,u]};function Tn({show:t}){const o=N(),n=T(f=>f.userInfo),s=ae(),[u,a]=$("userStatus"),[r,i]=$("userRole","admin"),{setLang:d,lang:p,theme:g,setTheme:b}=l.exports.useContext(ce);function B(){a("logout"),window.location.href="/login"}function k(f){f==="logout"?B():ue.info(`You clicked ${f}`)}if(l.exports.useEffect(()=>{s({type:"update-userInfo",payload:{userInfo:A(E({},n),{permissions:Ke(r)})}})},[r]),!t)return e("div",{className:w["fixed-settings"],children:e(qe,{trigger:e(R,{icon:e(J,{}),type:"primary",size:"large"})})});const _=()=>{i(r==="admin"?"user":"admin")},v=c(S,{onClickMenuItem:k,children:[e(S.SubMenu,{title:c(H,{children:[e(Ie,{className:w["dropdown-icon"]}),e("span",{className:w["user-role"],children:r==="admin"?o["menu.user.role.admin"]:o["menu.user.role.user"]})]}),children:c(S.Item,{onClick:_,children:[e(Re,{className:w["dropdown-icon"]}),o["menu.user.switchRoles"]]},"switch role")},"role"),c(S.Item,{children:[e(J,{className:w["dropdown-icon"]}),o["menu.user.setting"]]},"setting"),e(S.SubMenu,{title:c("div",{style:{width:80},children:[e(It,{className:w["dropdown-icon"]}),o["message.seeMore"]]}),children:c(S.Item,{children:[e(Pe,{className:w["dropdown-icon"]}),o["menu.dashboard.workplace"]]},"workplace")},"more"),e(ke,{style:{margin:"4px 0"}}),c(S.Item,{children:[e(Rt,{className:w["dropdown-icon"]}),o["navbar.logout"]]},"logout")]});return c("div",{className:w.navbar,children:[e("div",{className:w.left,children:c("div",{className:w.logo,children:[e(Ve,{}),e("div",{className:w["logo-name"],children:"Arco Pro"})]})}),c("ul",{className:w.right,children:[e("li",{children:e(ie.Search,{className:w.round,placeholder:o["navbar.search.placeholder"]})}),e("li",{children:e(Pt,{triggerElement:e(G,{icon:e(jt,{})}),options:[{label:"\u4E2D\u6587",value:"zh-CN"},{label:"English",value:"en-US"}],value:p,triggerProps:{autoAlignPopupWidth:!1,autoAlignPopupMinWidth:!0,position:"br"},trigger:"hover",onChange:f=>{d(f);const L=We[f];ue.info(`${L["message.lang.tips"]}${f}`)}})}),e("li",{children:e(bn,{children:e(G,{icon:e(Lt,{})})})}),e("li",{children:e(Mt,{content:g==="light"?o["settings.navbar.theme.toDark"]:o["settings.navbar.theme.toLight"],children:e(G,{icon:g!=="dark"?e(Tt,{}):e(zt,{}),onClick:()=>b(g==="light"?"dark":"light")})})}),e(qe,{}),n&&e("li",{children:e(Ot,{droplist:v,position:"br",children:e(oe,{size:32,style:{cursor:"pointer"},children:e("img",{alt:"avatar",src:n.avatar})})})})]})]})}const zn="_footer_1si67_1";var On={footer:zn};function He(t={}){const s=t,{className:o}=s,n=te(s,["className"]);return e(P.Footer,A(E({className:re(On.footer,o)},n),{children:"Arco Design Pro"}))}function $n(){const t=je.parseUrl(j?"":window.location.href).query,o={};return Object.keys(t).forEach(n=>{t[n]==="true"&&(o[n]=!0),t[n]==="false"&&(o[n]=!1)}),o}const Wn="_layout_1j5gf_1",Vn="_icon_1j5gf_87",qn="_spin_1j5gf_109";var D={layout:Wn,"layout-navbar":"_layout-navbar_1j5gf_5","layout-navbar-hidden":"_layout-navbar-hidden_1j5gf_14","layout-sider":"_layout-sider_1j5gf_17","collapse-btn":"_collapse-btn_1j5gf_51","menu-wrapper":"_menu-wrapper_1j5gf_68",icon:Vn,"icon-empty":"_icon-empty_1j5gf_91","layout-content":"_layout-content_1j5gf_96","layout-content-wrapper":"_layout-content-wrapper_1j5gf_103","layout-breadcrumb":"_layout-breadcrumb_1j5gf_106",spin:qn};function Un(t,o){const n=$t(t,o);return n.preload=t.requireAsync||t,n}function Kn(t){return t.error?(console.error(t.error),null):e("div",{className:D.spin,children:e(se,{})})}var Je=t=>Un(t,{fallback:Kn({pastDelay:!0,error:!1,timedOut:!1})});const Hn=S.Item,Jn=S.SubMenu,Gn=P.Sider,Xn=P.Content;function Zn(t){switch(t){case"dashboard":return e(Pe,{className:D.icon});case"example":return e(Re,{className:D.icon});default:return e("div",{className:D["icon-empty"]})}}function Yn(t){const o={"./pages/example/index.tsx":()=>C(()=>import("./index.767e0588.js"),["assets/index.767e0588.js","assets/index.e7a6af1d.css","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css"]),"./pages/login/banner.tsx":()=>C(()=>Promise.resolve().then(function(){return uo}),void 0),"./pages/login/form.tsx":()=>C(()=>Promise.resolve().then(function(){return ao}),void 0),"./pages/login/index.tsx":()=>C(()=>Promise.resolve().then(function(){return io}),void 0),"./pages/dashboard/workplace/announcement.tsx":()=>C(()=>import("./announcement.a8e7da98.js"),["assets/announcement.a8e7da98.js","assets/announcement.4446c828.css","assets/index.4623c961.css","assets/index.e7a6af1d.css","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css","assets/index.9464998a.js"]),"./pages/dashboard/workplace/carousel.tsx":()=>C(()=>import("./carousel.0dd2cec2.js"),["assets/carousel.0dd2cec2.js","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css"]),"./pages/dashboard/workplace/content-percentage.tsx":()=>C(()=>import("./content-percentage.2a531c49.js"),["assets/content-percentage.2a531c49.js","assets/index.e7a6af1d.css","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css","assets/index.a452d2e7.js","assets/index.9464998a.js"]),"./pages/dashboard/workplace/docs.tsx":()=>C(()=>import("./docs.858df7e0.js"),["assets/docs.858df7e0.js","assets/docs.e521c9d6.css","assets/index.e7a6af1d.css","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css","assets/index.9464998a.js"]),"./pages/dashboard/workplace/index.tsx":()=>C(()=>import("./index.b47a6a42.js"),["assets/index.b47a6a42.js","assets/index.8c5bf3cd.css","assets/index.4623c961.css","assets/index.e7a6af1d.css","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css","assets/overview.7472a33e.js","assets/overview.d7d6e381.css","assets/index.a452d2e7.js","assets/index.9464998a.js","assets/popular-contents.46dab896.js","assets/popular-contents.1724f142.css","assets/content-percentage.2a531c49.js","assets/shortcuts.af1b8a99.js","assets/shortcuts.0626e3d2.css","assets/announcement.a8e7da98.js","assets/announcement.4446c828.css","assets/carousel.0dd2cec2.js","assets/docs.858df7e0.js","assets/docs.e521c9d6.css"]),"./pages/dashboard/workplace/overview.tsx":()=>C(()=>import("./overview.7472a33e.js"),["assets/overview.7472a33e.js","assets/overview.d7d6e381.css","assets/index.4623c961.css","assets/index.e7a6af1d.css","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css","assets/index.a452d2e7.js","assets/index.9464998a.js"]),"./pages/dashboard/workplace/popular-contents.tsx":()=>C(()=>import("./popular-contents.46dab896.js"),["assets/popular-contents.46dab896.js","assets/popular-contents.1724f142.css","assets/index.e7a6af1d.css","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css","assets/index.9464998a.js"]),"./pages/dashboard/workplace/shortcuts.tsx":()=>C(()=>import("./shortcuts.af1b8a99.js"),["assets/shortcuts.af1b8a99.js","assets/shortcuts.0626e3d2.css","assets/index.e7a6af1d.css","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css","assets/index.9464998a.js"]),"./pages/exception/403/index.tsx":()=>C(()=>import("./index.527ae50f.js"),["assets/index.527ae50f.js","assets/index.6ecaddee.css","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css"])},n=[];function s(u){u.forEach(a=>{a.key&&!a.children?(a.component=Je(o[`./pages/${a.key}/index.tsx`]),n.push(a)):Rn(a.children)&&a.children.length&&s(a.children)})}return s(t),n}function Qn(){const t=$n(),o=Wt(),n=o.location.pathname,s=je.parseUrl(n).url.slice(1),u=N(),{settings:a,userLoading:r,userInfo:i}=T(m=>m),[d,p]=Mn(i==null?void 0:i.permissions),g=[s||p],b=(s||p).split("/"),B=b.slice(0,b.length-1),[k,_]=l.exports.useState([]),[v,f]=l.exports.useState(!1),[L,et]=l.exports.useState(g),[Z,he]=l.exports.useState(B),W=l.exports.useRef(new Map),Y=l.exports.useRef(new Map),tt=60,be=v?48:a.menuWidth,Q=a.navbar&&t.navbar!==!1,ye=a.menu&&t.menu!==!1,nt=a.footer&&t.footer!==!1,_e=l.exports.useMemo(()=>Yn(d)||[],[d]);function ot(m){const F=_e.find(x=>x.key===m),V=F.component.preload();Te.start(),V.then(()=>{o.push(F.path?F.path:`/${m}`),Te.done()})}function st(){f(m=>!m)}const rt=ye?{paddingLeft:be}:{},Ee=Q?{paddingTop:tt}:{},at=E(E({},rt),Ee);function ut(m){return W.current.clear(),function F(M,V,x=[]){return M.map(y=>{const{breadcrumb:lt=!0,ignore:ct}=y,dt=Zn(y.key),ve=c(H,{children:[dt," ",m[y.name]||y.name]});W.current.set(`/${y.key}`,lt?[...x,y.name]:[]);const Fe=(y.children||[]).filter(ee=>{const{ignore:Ce,breadcrumb:gt=!0}=ee;return(Ce||y.ignore)&&W.current.set(`/${ee.key}`,gt?[...x,y.name,ee.name]:[]),!Ce});return ct?"":Fe.length?(Y.current.set(y.key,{subMenu:!0}),e(Jn,{title:ve,children:F(Fe,V+1,[...x,y.name])},y.key)):(Y.current.set(y.key,{menuItem:!0}),e(Hn,{children:ve},y.key))})}}function it(){const m=n.split("/"),F=[],M=[...Z];for(;m.length>0;){const x=m.join("/").replace(/^\//,""),y=Y.current.get(x);y&&y.menuItem&&F.push(x),y&&y.subMenu&&!Z.includes(x)&&M.push(x),m.pop()}et(F),he(M)}return l.exports.useEffect(()=>{const m=W.current.get(n);_(m||[]),it()},[n]),c(P,{className:D.layout,children:[e("div",{className:re(D["layout-navbar"],{[D["layout-navbar-hidden"]]:!Q}),children:e(Tn,{show:Q})}),r?e(se,{className:D.spin}):c(P,{children:[ye&&c(Gn,{className:D["layout-sider"],width:be,collapsed:v,onCollapse:f,trigger:null,collapsible:!0,breakpoint:"xl",style:Ee,children:[e("div",{className:D["menu-wrapper"],children:e(S,{collapse:v,onClickMenuItem:ot,selectedKeys:L,openKeys:Z,onClickSubMenu:(m,F)=>{he(F)},children:ut(u)(d,1)})}),e("div",{className:D["collapse-btn"],onClick:st,children:v?e(Vt,{}):e(qt,{})})]}),c(P,{className:D["layout-content"],style:at,children:[c("div",{className:D["layout-content-wrapper"],children:[!!k.length&&e("div",{className:D["layout-breadcrumb"],children:e(Le,{children:k.map((m,F)=>e(Le.Item,{children:typeof m=="string"&&u[m]||m},F))})}),e(Xn,{children:c(Me,{children:[_e.map((m,F)=>e(z,{path:`/${m.key}`,component:m.component},F)),e(z,{exact:!0,path:"/",children:e(Ut,{to:`/${p}`})}),e(z,{path:"*",component:Je(()=>C(()=>import("./index.527ae50f.js"),["assets/index.527ae50f.js","assets/index.6ecaddee.css","assets/vendor.fe3c3388.js","assets/vendor.411bd6f0.css"]))})]})})]}),nt&&e(He,{})]})]})]})}const Ge={"en-US":{"login.form.title":"Login to Arco Design Pro","login.form.userName.errMsg":"Username cannot be empty","login.form.password.errMsg":"Password cannot be empty","login.form.login.errMsg":"Login error, please refresh and try again","login.form.userName.placeholder":"Username: admin","login.form.password.placeholder":"Password: admin","login.form.rememberPassword":"Remember password","login.form.forgetPassword":"Forgot password","login.form.login":"login","login.form.register":"register account","login.banner.slogan1":"Out-of-the-box high-quality template","login.banner.subSlogan1":"Rich page templates, covering most typical business scenarios","login.banner.slogan2":"Built-in solutions to common problems","login.banner.subSlogan2":"Internationalization, routing configuration, state management everything","login.banner.slogan3":"Access visualization enhancement tool AUX","login.banner.subSlogan3":"Realize flexible block development"},"zh-CN":{"login.form.title":"\u767B\u5F55 Arco Design Pro","login.form.userName.errMsg":"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A","login.form.password.errMsg":"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A","login.form.login.errMsg":"\u767B\u5F55\u51FA\u9519\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5","login.form.userName.placeholder":"\u7528\u6237\u540D\uFF1Aadmin","login.form.password.placeholder":"\u5BC6\u7801\uFF1Aadmin","login.form.rememberPassword":"\u8BB0\u4F4F\u5BC6\u7801","login.form.forgetPassword":"\u5FD8\u8BB0\u5BC6\u7801","login.form.login":"\u767B\u5F55","login.form.register":"\u6CE8\u518C\u8D26\u53F7","login.banner.slogan1":"\u5F00\u7BB1\u5373\u7528\u7684\u9AD8\u8D28\u91CF\u6A21\u677F","login.banner.subSlogan1":"\u4E30\u5BCC\u7684\u7684\u9875\u9762\u6A21\u677F\uFF0C\u8986\u76D6\u5927\u591A\u6570\u5178\u578B\u4E1A\u52A1\u573A\u666F","login.banner.slogan2":"\u5185\u7F6E\u4E86\u5E38\u89C1\u95EE\u9898\u7684\u89E3\u51B3\u65B9\u6848","login.banner.subSlogan2":"\u56FD\u9645\u5316\uFF0C\u8DEF\u7531\u914D\u7F6E\uFF0C\u72B6\u6001\u7BA1\u7406\u5E94\u6709\u5C3D\u6709","login.banner.slogan3":"\u63A5\u5165\u53EF\u89C6\u5316\u589E\u5F3A\u5DE5\u5177AUX","login.banner.subSlogan3":"\u5B9E\u73B0\u7075\u6D3B\u7684\u533A\u5757\u5F0F\u5F00\u53D1"}},eo="_container_13zaa_1",to="_banner_13zaa_5",no="_content_13zaa_9",oo="_footer_13zaa_14",so="_logo_13zaa_20",ro="_carousel_13zaa_48";var h={container:eo,banner:to,content:no,footer:oo,logo:so,"logo-text":"_logo-text_13zaa_28","banner-inner":"_banner-inner_13zaa_39",carousel:ro,"carousel-item":"_carousel-item_13zaa_51","carousel-title":"_carousel-title_13zaa_58","carousel-sub-title":"_carousel-sub-title_13zaa_64","carousel-image":"_carousel-image_13zaa_70","login-form-wrapper":"_login-form-wrapper_13zaa_74","login-form-title":"_login-form-title_13zaa_77","login-form-sub-title":"_login-form-sub-title_13zaa_83","login-form-error-msg":"_login-form-error-msg_13zaa_88","login-form-password-actions":"_login-form-password-actions_13zaa_93","login-form-register-btn":"_login-form-register-btn_13zaa_97"};function Xe(){const t=l.exports.useRef(),[o,n]=l.exports.useState(""),[s,u]=l.exports.useState(!1),[a,r,i]=$("loginParams"),d=N(Ge),[p,g]=l.exports.useState(!!a);function b(_){p?r(JSON.stringify(_)):i(),localStorage.setItem("userStatus","login"),window.location.href="/"}function B(_){n(""),u(!0),K.post("/api/user/login",_).then(v=>{const{status:f,msg:L}=v.data;f==="ok"?b(_):n(L||d["login.form.login.errMsg"])}).finally(()=>{u(!1)})}function k(){t.current.validate().then(_=>{B(_)})}return l.exports.useEffect(()=>{const _=!!a;if(g(_),t.current&&_){const v=JSON.parse(a);t.current.setFieldsValue(v)}},[a]),c("div",{className:h["login-form-wrapper"],children:[e("div",{className:h["login-form-title"],children:d["login.form.title"]}),e("div",{className:h["login-form-sub-title"],children:d["login.form.title"]}),e("div",{className:h["login-form-error-msg"],children:o}),c(le,{className:h["login-form"],layout:"vertical",ref:t,initialValues:{userName:"admin",password:"admin"},children:[e(le.Item,{field:"userName",rules:[{required:!0,message:d["login.form.userName.errMsg"]}],children:e(ie,{prefix:e(Ie,{}),placeholder:d["login.form.userName.placeholder"],onPressEnter:k})}),e(le.Item,{field:"password",rules:[{required:!0,message:d["login.form.password.errMsg"]}],children:e(ie.Password,{prefix:e(Kt,{}),placeholder:d["login.form.password.placeholder"],onPressEnter:k})}),c(Ae,{size:16,direction:"vertical",children:[c("div",{className:h["login-form-password-actions"],children:[e(Ht,{checked:p,onChange:g,children:d["login.form.rememberPassword"]}),e(Jt,{children:d["login.form.forgetPassword"]})]}),e(R,{type:"primary",long:!0,onClick:k,loading:s,children:d["login.form.login"]}),e(R,{type:"text",long:!0,className:h["login-form-register-btn"],children:d["login.form.register"]})]})]})]})}var ao=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xe});function Ze(){const t=N(Ge),o=[{slogan:t["login.banner.slogan1"],subSlogan:t["login.banner.subSlogan1"],image:"http://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/6c85f43aed61e320ebec194e6a78d6d3.png~tplv-uwbnlip3yd-png.png"},{slogan:t["login.banner.slogan2"],subSlogan:t["login.banner.subSlogan2"],image:"http://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/6c85f43aed61e320ebec194e6a78d6d3.png~tplv-uwbnlip3yd-png.png"},{slogan:t["login.banner.slogan3"],subSlogan:t["login.banner.subSlogan3"],image:"http://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/6c85f43aed61e320ebec194e6a78d6d3.png~tplv-uwbnlip3yd-png.png"}];return e(Gt,{className:h.carousel,animation:"fade",children:o.map((n,s)=>e("div",{children:c("div",{className:h["carousel-item"],children:[e("div",{className:h["carousel-title"],children:n.slogan}),e("div",{className:h["carousel-sub-title"],children:n.subSlogan}),e("img",{alt:"banner-image",className:h["carousel-image"],src:n.image})]})},`${s}`))})}var uo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ze});function pe(){return l.exports.useEffect(()=>{document.body.setAttribute("arco-theme","light")},[]),c("div",{className:h.container,children:[c("div",{className:h.logo,children:[e(Ve,{}),e("div",{className:h["logo-text"],children:"Arco Design Pro"})]}),e("div",{className:h.banner,children:e("div",{className:h["banner-inner"],children:e(Ze,{})})}),c("div",{className:h.content,children:[e("div",{className:h["content-inner"],children:e(Xe,{})}),e("div",{className:h.footer,children:e(He,{})})]})]})}pe.displayName="LoginPage";var io=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pe});function lo(){return localStorage.getItem("userStatus")==="login"}function co(t){t==="dark"?document.body.setAttribute("arco-theme","dark"):document.body.removeAttribute("arco-theme")}var Ye=t=>{const{mock:o=!1,setup:n}=t;console.log("mock start"),n()};j||(I.XHR.prototype.withCredentials=!0,Ye({setup:()=>{const t=window.localStorage.getItem("userRole")||"admin";I.mock(new RegExp("/api/user/userInfo"),()=>I.mock({name:"admin",avatar:"https://lf1-xgcdn-tos.pstatp.com/obj/vcloud/vadmin/start.8e0e4855ee346a46ccff8ff3e24db27b.png",email:"wangliqun@email.com",job:"frontend",jobName:"\u524D\u7AEF\u5F00\u53D1\u5DE5\u7A0B\u5E08",organization:"Frontend",organizationName:"\u524D\u7AEF",location:"beijing",locationName:"\u5317\u4EAC",introduction:"\u738B\u529B\u7FA4\u5E76\u975E\u662F\u4E00\u4E2A\u771F\u5B9E\u5B58\u5728\u7684\u4EBA\u3002",personalWebsite:"https://www.arco.design",verified:!0,phoneNumber:/177[*]{6}[0-9]{2}/,accountId:/[a-z]{4}[-][0-9]{8}/,registrationTime:I.Random.datetime("yyyy-MM-dd HH:mm:ss"),permissions:Ke(t)})),I.mock(new RegExp("/api/user/login"),o=>{const{userName:n,password:s}=JSON.parse(o.body);return n?s?n==="admin"&&s==="admin"?{status:"ok"}:{status:"error",msg:"\u8D26\u53F7\u6216\u8005\u5BC6\u7801\u9519\u8BEF"}:{status:"error",msg:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}:{status:"error",msg:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A"}})}}));const Qe=[],go=()=>[{id:1,type:"message",title:"\u90D1\u66E6\u6708",subTitle:"\u7684\u79C1\u4FE1",avatar:"//p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/8361eeb82904210b4f55fab888fe8416.png~tplv-uwbnlip3yd-webp.webp",content:"\u5BA1\u6279\u8BF7\u6C42\u5DF2\u53D1\u9001\uFF0C\u8BF7\u67E5\u6536",time:"\u4ECA\u5929 12:30:01"},{id:2,type:"message",title:"\u5B81\u6CE2",subTitle:"\u7684\u56DE\u590D",avatar:"//p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",content:"\u6B64\u5904 bug \u5DF2\u7ECF\u4FEE\u590D\uFF0C\u5982\u6709\u95EE\u9898\u8BF7\u67E5\u9605\u6587\u6863\u6216\u8005\u7EE7\u7EED github \u63D0 issue\uFF5E",time:"\u4ECA\u5929 12:30:01"},{id:3,type:"message",title:"\u5B81\u6CE2",subTitle:"\u7684\u56DE\u590D",avatar:"//p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp",content:"\u6B64\u5904 bug \u5DF2\u7ECF\u4FEE\u590D",time:"\u4ECA\u5929 12:20:01"},{id:4,type:"todo",title:"\u57DF\u540D\u670D\u52A1",content:"\u5185\u5BB9\u8D28\u68C0\u961F\u5217\u4E8E 2021-12-01 19:50:23 \u8FDB\u884C\u53D8\u66F4\uFF0C\u8BF7\u91CD\u65B0",tag:{text:"\u672A\u5F00\u59CB",color:"gray"}},{id:5,type:"todo",title:"\u5185\u5BB9\u5BA1\u6279\u901A\u77E5",content:"\u5B81\u9759\u63D0\u4EA4\u4E8E 2021-11-05\uFF0C\u9700\u8981\u60A8\u5728 2011-11-07\u4E4B\u524D\u5BA1\u6279",tag:{text:"\u8FDB\u884C\u4E2D",color:"arcoblue"}},{id:6,type:"notice",title:"\u8D28\u68C0\u961F\u5217\u53D8\u66F4",content:"\u60A8\u7684\u4EA7\u54C1\u4F7F\u7528\u671F\u9650\u5373\u5C06\u622A\u6B62\uFF0C\u5982\u9700\u7EE7\u7EED\u4F7F\u7528\u4EA7\u54C1\u8BF7\u524D\u5F80\u8D2D\u2026",tag:{text:"\u5373\u5C06\u5230\u671F",color:"red"}},{id:7,type:"notice",title:"\u89C4\u5219\u5F00\u901A\u6210\u529F",subTitle:"",avatar:"",content:"\u5185\u5BB9\u5C4F\u853D\u89C4\u5219\u4E8E 2021-12-01 \u5F00\u901A\u6210\u529F\u5E76\u751F\u6548\u3002",tag:{text:"\u5DF2\u5F00\u901A",color:"green"}}].map(t=>A(E({},t),{status:Qe.indexOf(t.id)===-1?0:1}));Ye({setup:()=>{I.mock(new RegExp("/api/message/list"),()=>go()),I.mock(new RegExp("/api/message/read"),t=>{const{ids:o}=JSON.parse(t.body);return Qe.push(...o||[]),!0})}});console.log("good");j||I.setup({timeout:"500-1500"});const fe=Xt(dn);function mo(){const[t,o]=$("arco-lang","en-US"),[n,s]=$("arco-theme","light");function u(){switch(t){case"zh-CN":return ze;case"en-US":return tn;default:return ze}}function a(){fe.dispatch({type:"update-userInfo",payload:{userLoading:!0}}),K.get("/api/user/userInfo").then(i=>{fe.dispatch({type:"update-userInfo",payload:{userInfo:i.data,userLoading:!1}})})}l.exports.useEffect(()=>{lo()?a():window.location.pathname.replace(/\//g,"")!=="login"&&(window.location.pathname="/login")},[]),l.exports.useEffect(()=>{co(n)},[n]);const r={lang:t,setLang:o,theme:n,setTheme:s};return e(Yt,{children:e(Qt,{locale:u(),componentConfig:{Card:{bordered:!1},List:{bordered:!1},Table:{border:!1}},children:e(en,{store:fe,children:e(ce.Provider,{value:r,children:c(Me,{children:[e(z,{path:"/login",component:pe}),e(z,{path:"/",component:Qn})]})})})})})}Zt.render(e(mo,{}),document.getElementById("root"));export{Ye as s,N as u};
